- clean: ['~']

- defaults:
    link:
        relink: true

- create:
    - ~/projects
    - ~/projects/patches/

- shell:
    - [git submodule update --init --recursive, Installing submodules]

- link:
    ~/.gitconfig: config/gitconfig
    ~/.gitignore_global: config/gitignore_global
    ~/.zshrc: config/zshrc
    ~/.config/zsh:
        path: config/zsh/
        create: true
    ~/.config/nvim:
        path: config/nvim/
        create: true
    ~/.vim:
        path: vim
        create: true
    ~/.vimrc: config/vim/init.vim
    ~/.config/vim:
        path: config/vim/
        create: true
    ~/.mackup.cfg:
        path: config/mackup
        create: true


- shell:
    - chsh -s $(which zsh)
    - [chsh -s $(which zsh), Making zsh the default shell]
    -
      command: brew bundle install
      stdout: true
      description: Installing dependencies from Brewfile
    -
      command: mackup restore
      stdout: true
      stdin: true
      description: Restoring App configs using mackup
